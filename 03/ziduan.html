<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">  
  <title></title>
</head>
<title>字段级验证</title>
<style>
 
 #rectangle__calc{
   margin-left:53px;
 }
 #wid{
  color: red;
 }
 #hei{
  color: red;
 }
 
</style>

<body>
 <div class="rectangle">
   <label for="">宽度：</label>   
   <input id="rectangle__width" type="textbox">
   <span id="wid" style="width: 00px;height: 20px;color: red"></span>
   <br>
   <label for="">长度：</label>
   <input id="rectangle__height" type="textbox">
   <span id="hei" style="width: 100px;height: 20px;color: red"></span>
   <br>
   <input id="rectangle__calc" type="button" value="计算">
   <br>
   <label for="">周长：</label>
   <input id="rectangle__perimeter" type="textbox" readonly="readonly">
   <br>
   <label for="">面积：</label>
   <input id="rectangle__area" type="textbox" readonly="readonly">
 </div>  
</body>
<script>
  var width=document.getElementById('rectangle__width');
  var height=document.getElementById('rectangle__height');
  var down=document.getElementById('rectangle__calc');
  var perimter=document.getElementById('rectangle__perimeter');
  var area=document.getElementById('rectangle__area');
  var wid=document.getElementById('wid');
  var hei=document.getElementById('hei');

  width.focus();
  var patrn=/^[0-9.]+$/;
  //判断宽
  	width.onkeydown=function(){
  		
        if (event.keyCode==9){  		 
         if(!width.value){ 
            wid.innerHTML='请输入宽度！'; 
         } 
         if(!patrn.exec(width.value)) {
            wid.innerHTML="请输入正确类型的值！"  
            height.readonly="readonly";
         }   
         if (width.value<=0) {
          wid.innerHTML="请输入大于0的数！"
          height.readonly="readonly";
         }
        } 
  	}
    
  //判断高
  	height.onkeydown=function(){
        if (event.keyCode==9){       
         if(!height.value){ 
            hei.innerHTML="请输入高度！"; 
         } 
         else if(!patrn.exec(height.value)) {
            hei.innerHTML="请输入正确类型的值！"  
         }  
        } 
    }
  	//计算
	  down.onclick=function(){ 
      // 宽高都有数值
      if (width.value&&height.value) {
         if (width.value>0&&height.value>0) {
          perimter.value=width.value*2+height.value*2;
          area.value=(width.value*10000*height.value*10000)/100000000;
          wid.innerHTML='';
          hei.innerHTML='';
        }
        if (width.value<=0) {
          wid.innerHTML="请输入大于零的值";
        }
        if (height.value<=0) {
          hei.innerHTML="请输入大于零的值";
        }
      }
       if (width.value&&!height.value) {
        hei.innerHTML="请输入长度";
        if (width.value<=0) {
          wid.innerHTML="请输入大于零的值";
        }
       }

       if (!width.value&&height.value) {
        wid.innerHTML="请输入宽度";
        if(height.value<=0){
          hei.innerHTML="请输入大于零的值";
        }
       }

       if (!width.value&&!height.value) {
        wid.innerHTML='请输入！';
        hei.innerHTML='请输入！';
       }
	  }
</script>
</html>